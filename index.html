<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

    <!-- make divs and assing the images to them. use ids and add/delete the image? -->

    <p id="instructions"></p>

    <img id="vader" class="character" data-character="darthVader" src="assets/images/DarthVader.jpeg" alt="Darth Vader">
    <img id="solo" class="character" data-character="hanSolo" src="assets/images/HanSolo.jpg" alt="Han Solo">
    <img id="wan" class="character" data-character="obiWan" src="assets/images/ObiWan.jpeg" alt="Obi Wan">
    <img id="yoda" class="character" data-character="masterYoda" src="assets/images/MasterYoda.jpeg" alt="Master Yoda">

    <div id="hero"> <!--id not yet used  -->

        <p id="heroHealth"></p>

    </div>

    <button id="attack">Attack!</button>

    <div id="enemy"> <!--id not yet used  -->

        <p id="enemyHealth"></p>

    </div>

<script type="text/javascript">
//characters(the array).filter()
// var darthVader = {name: darthVader, attackPoints: 8, counterAttackPoints: 6, health: 150, isUserChoice: false}
    
    //characters as object
    // var characters = {
    // "darthVader" : {name: "darthVader", attackPoints: 8, counterAttackPoints: 6, health: 150, isUserChoice: false},
    // "hanSolo" : {name: "hanSolo", attackPoints: 6, counterAttackPoints: 8, health: 100, isUserChoice: false},
    // "obiWan" : {name: "obiWan", attackPoints: 5, counterAttackPoints: 10, health: 200, isUserChoice: false},
    // "masterYoda" : {name: "masterYoda", attackPoints: 10, counterAttackPoints: 5, health: 175, isUserChoice: false},
    // }

    //characters as array
    var characters = [
    char1 = {name: "darthVader", attackPoints: 8, counterAttackPoints: 6, health: 150, isHero: false, isEnemy: false },
    char2 = {name: "hanSolo", attackPoints: 6, counterAttackPoints: 8, health: 100, isHero: false, isEnemy: false},
    char3 = {name: "obiWan", attackPoints: 5, counterAttackPoints: 10, health: 200, isHero: false, isEnemy: false},
    char4 = {name: "masterYoda", attackPoints: 10, counterAttackPoints: 5, health: 175, isHero: false, isEnemy: false},
    ]


    // characters[i].name

    //switch statement

    // var characters = {};

    function reset(){

    }

    reset();

    var heroChosen = false;
    var enemyChosen = false;

    var selectedHero;
    var selectedEnemy;

    var heroAttack = 0;

    $(document).ready(function() {

        $("#instructions").html("Click on an image to choose your hero!")
        // a way to choose. maybe do buttons instead?
//        $(".character").on("click", function(){
            // chosen = this;
//           var chosenChar = $(this).attr("data-character")
        //    charPosition = characters.indexOf(chosenChar);
//           console.log(chosenChar);
        //    console.log(charPosition);
            // characters[chosenChar]
//            characters.name[chosenChar]
//        });

        $(".character").on("click", function(){
            if(heroChosen === false){
                for(i=0; i<characters.length; i++){
                    // console.log(characters[i])
                    if(characters[i].name === $(this).attr("data-character")){
                        characters[i].isHero = true;
                        selectedHero = characters[i];
                        console.log(selectedHero);
                    }
                    console.log(characters[i].name + characters[i].isHero)
                }
            heroChosen = true;
            console.log(heroChosen)
            $("#instructions").html("Click on an image to choose your enemy!")
            }else{
                for(i=0; i<characters.length; i++){
                    // console.log(characters[i])
                    if(characters[i].name === $(this).attr("data-character")){
                        characters[i].isEnemy = true;
                        selectedEnemy = characters[i];
                        console.log(selectedEnemy);
                    }
                    console.log(characters[i].name + characters[i].isEnemy)
                }
            enemyChosen = true;
            console.log(enemyChosen)
            }

        });

        $("#attack").on("click", function(){
            if(heroChosen === true && enemyChosen === true){
                
                heroAttack = heroAttack + selectedHero.attackPoints
                selectedEnemy.health = selectedEnemy.health - heroAttack
                $("#enemyHealth").html(selectedEnemy.health)

                selectedHero.health = selectedHero.health - selectedEnemy.counterAttackPoints
                $("#heroHealth").html(selectedHero.health)
            }
        });

    });

</script>

</body>
</html>